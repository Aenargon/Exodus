function playCharacterVideo() {
        let p = game.turn === 'A' ? game.pA : game.pB;
        if (!p.char) {
            alert("PRIMERO ESCANEA UNA CARTA DE PERSONAJE");
            return;
        }
        const vPlayer = document.getElementById('p-video');
        
        // Esta línea limpia el nombre del QR para buscar el archivo
        let fileName = p.char.replace('ACHERON_CHAR_', '');
        
        // Codificamos la URL para que los espacios no rompan el enlace
        let videoUrl = `media/videos/${encodeURIComponent(fileName)}.mp4`;
        
        console.log("Intentando cargar vídeo de:", videoUrl);
        vPlayer.src = videoUrl; 
        document.getElementById('video-modal').style.display = 'flex';
        vPlayer.play().catch(e => {
            console.error("Error al reproducir vídeo:", e);
            alert("ERROR: No se encuentra el archivo " + fileName + ".mp4 en la carpeta media/videos/");
        });
    }
